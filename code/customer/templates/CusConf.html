{% extends 'base.html' %}

{% block head %}
{% endblock %}



{% block body %}

<ul class="breadcrumbs">
    <li> <a href="/customer">Main</a></li>
    <li> <a href="/customer/area">{{area['Address']}}</a></li>
    <li> <a href="/customer/area/configure">Configure</a></li>
</ul>
<h2>{{area['Address']}}</h2>

<form name = "editArea" method="POST" action="{{ url_for('customer.editArea') }}">  

    <label for = "sub-input" >Subscription</label> <br>
    <input type = "radio" name = "sub" for="sub-input" value = "basic"> <label for="basic">Basic</label> <br>
    <input type = "radio" name = "sub" for="sub-input" value = "gold"> <label for="gold">Gold</label> <br>
    <input type = "radio" name = "sub" for="sub-input" value = "supreme"> <label for="supreme">Supreme</label> <br>

    {% if area['GrassLength'] != none %}
    <label for = "grass-input" >Grass length</label>
    <input id = "grass-input" type="text" name ="grassLength" value="{{area['GrassLength']}}"> <br>
    {% else %}

    <label for = "grass-input" >Grass length</label>
    <input id = "grass-input" type="text" name ="grassLength" value="3">  <br>
    {% endif %}

    {% if area['NotifTime'] != none %}

    <label for = "notif-input" >Time to notify service provider</label>
    <input id = "notif-input" type="text" name ="notifTime" value = "{{area['NotifTime']|string}}"> <br>

    {% else %}

    <label for = "notif-input" >Time to notify service provider</label>
    <input id = "notif-input" type="text" name ="notifTime" value = "24"> <br>

    {% endif %}

    <button type="submit" id = "confirm-submit" class="btn footer-button">Submit</button>

</form> 

<!-- outline of function from https://stackoverflow.com/questions/8838648/onchange-event-handler-for-radio-button-input-type-radio-doesnt-work-as-one-->


<script>  
    var rad = document.editArea.sub;
    var prev = null;
    var currSub = "{{sub}}"

    //for every radio button
    
    for (var i = 0; i < rad.length; i++) {

        //set default checked if sub matches

        if (rad[i].value == currSub) {

            rad[i].checked = true;
        }

        //add listener to see when change occurs (currently unused)
        rad[i].addEventListener('change', function() {
            (prev) ? console.log(prev.value): null;
            if (this !== prev) {
                prev = this;
            }
            console.log(this.value)
        });
        
    }

</script>

{% endblock %}  

{% block footer %}

<form id="nav-bar" name = "navBar" method = "POST" action="{{ url_for('customer.areaNav')}}">
    <button class = "footer-nav" name = navBar type = "submit" value = "home">
        <p> home </p>
    </button>
    <button class = "footer-nav" name = navBar type = "submit" value = "map">
        <p> map </p>
    </button>
    <button class = "footer-nav" name = navBar type = "submit" value = "schedule">
        <p> schedule</p>
    </button>
    <button class = "footer-nav-curr" name = navBar type = "submit" value = "configure">
        <p> configure</p>
    </button>
</form>

{% endblock %} 



